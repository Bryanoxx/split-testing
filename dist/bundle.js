var SplitTesting=(()=>{var we=Object.create;var D=Object.defineProperty;var ye=Object.getOwnPropertyDescriptor;var be=Object.getOwnPropertyNames;var Ve=Object.getPrototypeOf,Se=Object.prototype.hasOwnProperty;var K=f=>D(f,"__esModule",{value:!0});var k=(f,i)=>()=>(i||f((i={exports:{}}).exports,i),i.exports),qe=(f,i)=>{K(f);for(var c in i)D(f,c,{get:i[c],enumerable:!0})},je=(f,i,c)=>{if(i&&typeof i=="object"||typeof i=="function")for(let l of be(i))!Se.call(f,l)&&l!=="default"&&D(f,l,{get:()=>i[l],enumerable:!(c=ye(i,l))||c.enumerable});return f},ke=f=>je(K(D(f!=null?we(Ve(f)):{},"default",f&&f.__esModule&&"default"in f?{get:()=>f.default,enumerable:!0}:{value:f,enumerable:!0})),f);var Y=k((Q,G)=>{(function(f,i,c){function l(e){var t=this,a=o();t.next=function(){var n=2091639*t.s0+t.c*23283064365386963e-26;return t.s0=t.s1,t.s1=t.s2,t.s2=n-(t.c=n|0)},t.c=1,t.s0=a(" "),t.s1=a(" "),t.s2=a(" "),t.s0-=a(e),t.s0<0&&(t.s0+=1),t.s1-=a(e),t.s1<0&&(t.s1+=1),t.s2-=a(e),t.s2<0&&(t.s2+=1),a=null}function x(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function g(e,t){var a=new l(e),n=t&&t.state,r=a.next;return r.int32=function(){return a.next()*4294967296|0},r.double=function(){return r()+(r()*2097152|0)*11102230246251565e-32},r.quick=r,n&&(typeof n=="object"&&x(n,a),r.state=function(){return x(a,{})}),r}function o(){var e=4022871197,t=function(a){a=String(a);for(var n=0;n<a.length;n++){e+=a.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=r*4294967296}return(e>>>0)*23283064365386963e-26};return t}i&&i.exports?i.exports=g:c&&c.amd?c(function(){return g}):this.alea=g})(Q,typeof G=="object"&&G,typeof define=="function"&&define)});var _=k((Z,O)=>{(function(f,i,c){function l(o){var e=this,t="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var n=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^n^n>>>8},o===(o|0)?e.x=o:t+=o;for(var a=0;a<t.length+64;a++)e.x^=t.charCodeAt(a)|0,e.next()}function x(o,e){return e.x=o.x,e.y=o.y,e.z=o.z,e.w=o.w,e}function g(o,e){var t=new l(o),a=e&&e.state,n=function(){return(t.next()>>>0)/4294967296};return n.double=function(){do var r=t.next()>>>11,u=(t.next()>>>0)/4294967296,s=(r+u)/(1<<21);while(s===0);return s},n.int32=t.next,n.quick=n,a&&(typeof a=="object"&&x(a,t),n.state=function(){return x(t,{})}),n}i&&i.exports?i.exports=g:c&&c.amd?c(function(){return g}):this.xor128=g})(Z,typeof O=="object"&&O,typeof define=="function"&&define)});var ne=k((ee,P)=>{(function(f,i,c){function l(o){var e=this,t="";e.next=function(){var n=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^(n^n<<1))|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,o===(o|0)?e.x=o:t+=o;for(var a=0;a<t.length+64;a++)e.x^=t.charCodeAt(a)|0,a==t.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function x(o,e){return e.x=o.x,e.y=o.y,e.z=o.z,e.w=o.w,e.v=o.v,e.d=o.d,e}function g(o,e){var t=new l(o),a=e&&e.state,n=function(){return(t.next()>>>0)/4294967296};return n.double=function(){do var r=t.next()>>>11,u=(t.next()>>>0)/4294967296,s=(r+u)/(1<<21);while(s===0);return s},n.int32=t.next,n.quick=n,a&&(typeof a=="object"&&x(a,t),n.state=function(){return x(t,{})}),n}i&&i.exports?i.exports=g:c&&c.amd?c(function(){return g}):this.xorwow=g})(ee,typeof P=="object"&&P,typeof define=="function"&&define)});var re=k((te,H)=>{(function(f,i,c){function l(o){var e=this;e.next=function(){var a=e.x,n=e.i,r,u,s;return r=a[n],r^=r>>>7,u=r^r<<24,r=a[n+1&7],u^=r^r>>>10,r=a[n+3&7],u^=r^r>>>3,r=a[n+4&7],u^=r^r<<7,r=a[n+7&7],r=r^r<<13,u^=r^r<<9,a[n]=u,e.i=n+1&7,u};function t(a,n){var r,u,s=[];if(n===(n|0))u=s[0]=n;else for(n=""+n,r=0;r<n.length;++r)s[r&7]=s[r&7]<<15^n.charCodeAt(r)+s[r+1&7]<<13;for(;s.length<8;)s.push(0);for(r=0;r<8&&s[r]===0;++r);for(r==8?u=s[7]=-1:u=s[r],a.x=s,a.i=0,r=256;r>0;--r)a.next()}t(e,o)}function x(o,e){return e.x=o.x.slice(),e.i=o.i,e}function g(o,e){o==null&&(o=+new Date);var t=new l(o),a=e&&e.state,n=function(){return(t.next()>>>0)/4294967296};return n.double=function(){do var r=t.next()>>>11,u=(t.next()>>>0)/4294967296,s=(r+u)/(1<<21);while(s===0);return s},n.int32=t.next,n.quick=n,a&&(a.x&&x(a,t),n.state=function(){return x(t,{})}),n}i&&i.exports?i.exports=g:c&&c.amd?c(function(){return g}):this.xorshift7=g})(te,typeof H=="object"&&H,typeof define=="function"&&define)});var ae=k((ie,B)=>{(function(f,i,c){function l(o){var e=this;e.next=function(){var a=e.w,n=e.X,r=e.i,u,s;return e.w=a=a+1640531527|0,s=n[r+34&127],u=n[r=r+1&127],s^=s<<13,u^=u<<17,s^=s>>>15,u^=u>>>12,s=n[r]=s^u,e.i=r,s+(a^a>>>16)|0};function t(a,n){var r,u,s,w,A,S=[],z=128;for(n===(n|0)?(u=n,n=null):(n=n+"\0",u=0,z=Math.max(z,n.length)),s=0,w=-32;w<z;++w)n&&(u^=n.charCodeAt((w+32)%n.length)),w===0&&(A=u),u^=u<<10,u^=u>>>15,u^=u<<4,u^=u>>>13,w>=0&&(A=A+1640531527|0,r=S[w&127]^=u+A,s=r==0?s+1:0);for(s>=128&&(S[(n&&n.length||0)&127]=-1),s=127,w=4*128;w>0;--w)u=S[s+34&127],r=S[s=s+1&127],u^=u<<13,r^=r<<17,u^=u>>>15,r^=r>>>12,S[s]=u^r;a.w=A,a.X=S,a.i=s}t(e,o)}function x(o,e){return e.i=o.i,e.w=o.w,e.X=o.X.slice(),e}function g(o,e){o==null&&(o=+new Date);var t=new l(o),a=e&&e.state,n=function(){return(t.next()>>>0)/4294967296};return n.double=function(){do var r=t.next()>>>11,u=(t.next()>>>0)/4294967296,s=(r+u)/(1<<21);while(s===0);return s},n.int32=t.next,n.quick=n,a&&(a.X&&x(a,t),n.state=function(){return x(t,{})}),n}i&&i.exports?i.exports=g:c&&c.amd?c(function(){return g}):this.xor4096=g})(ie,typeof B=="object"&&B,typeof define=="function"&&define)});var fe=k((oe,L)=>{(function(f,i,c){function l(o){var e=this,t="";e.next=function(){var n=e.b,r=e.c,u=e.d,s=e.a;return n=n<<25^n>>>7^r,r=r-u|0,u=u<<24^u>>>8^s,s=s-n|0,e.b=n=n<<20^n>>>12^r,e.c=r=r-u|0,e.d=u<<16^r>>>16^s,e.a=s-n|0},e.a=0,e.b=0,e.c=2654435769|0,e.d=1367130551,o===Math.floor(o)?(e.a=o/4294967296|0,e.b=o|0):t+=o;for(var a=0;a<t.length+20;a++)e.b^=t.charCodeAt(a)|0,e.next()}function x(o,e){return e.a=o.a,e.b=o.b,e.c=o.c,e.d=o.d,e}function g(o,e){var t=new l(o),a=e&&e.state,n=function(){return(t.next()>>>0)/4294967296};return n.double=function(){do var r=t.next()>>>11,u=(t.next()>>>0)/4294967296,s=(r+u)/(1<<21);while(s===0);return s},n.int32=t.next,n.quick=n,a&&(typeof a=="object"&&x(a,t),n.state=function(){return x(t,{})}),n}i&&i.exports?i.exports=g:c&&c.amd?c(function(){return g}):this.tychei=g})(oe,typeof L=="object"&&L,typeof define=="function"&&define)});var ce=k(()=>{});var se=k((ue,I)=>{(function(f,i,c){var l=256,x=6,g=52,o="random",e=c.pow(l,x),t=c.pow(2,g),a=t*2,n=l-1,r;function u(h,p,m){var v=[];p=p==!0?{entropy:!0}:p||{};var d=S(A(p.entropy?[h,T(i)]:h??z(),3),v),y=new s(v),V=function(){for(var b=y.g(x),j=e,q=0;b<t;)b=(b+q)*l,j*=l,q=y.g(1);for(;b>=a;)b/=2,j/=2,q>>>=1;return(b+q)/j};return V.int32=function(){return y.g(4)|0},V.quick=function(){return y.g(4)/4294967296},V.double=V,S(T(y.S),i),(p.pass||m||function(b,j,q,X){return X&&(X.S&&w(X,y),b.state=function(){return w(y,{})}),q?(c[o]=b,j):b})(V,d,"global"in p?p.global:this==c,p.state)}function s(h){var p,m=h.length,v=this,d=0,y=v.i=v.j=0,V=v.S=[];for(m||(h=[m++]);d<l;)V[d]=d++;for(d=0;d<l;d++)V[d]=V[y=n&y+h[d%m]+(p=V[d])],V[y]=p;(v.g=function(b){for(var j,q=0,X=v.i,$=v.j,E=v.S;b--;)j=E[X=n&X+1],q=q*l+E[n&(E[X]=E[$=n&$+j])+(E[$]=j)];return v.i=X,v.j=$,q})(l)}function w(h,p){return p.i=h.i,p.j=h.j,p.S=h.S.slice(),p}function A(h,p){var m=[],v=typeof h,d;if(p&&v=="object")for(d in h)try{m.push(A(h[d],p-1))}catch{}return m.length?m:v=="string"?h:h+"\0"}function S(h,p){for(var m=h+"",v,d=0;d<m.length;)p[n&d]=n&(v^=p[n&d]*19)+m.charCodeAt(d++);return T(p)}function z(){try{var h;return r&&(h=r.randomBytes)?h=h(l):(h=new Uint8Array(l),(f.crypto||f.msCrypto).getRandomValues(h)),T(h)}catch{var p=f.navigator,m=p&&p.plugins;return[+new Date,f,m,f.screen,T(i)]}}function T(h){return String.fromCharCode.apply(0,h)}if(S(c.random(),i),typeof I=="object"&&I.exports){I.exports=u;try{r=ce()}catch{}}else typeof define=="function"&&define.amd?define(function(){return u}):c["seed"+o]=u})(typeof self!="undefined"?self:ue,[],Math)});var xe=k((Re,le)=>{var Ae=Y(),Xe=_(),Ce=ne(),Ne=re(),ze=ae(),Te=fe(),C=se();C.alea=Ae;C.xor128=Xe;C.xorwow=Ce;C.xorshift7=Ne;C.xor4096=ze;C.tychei=Te;le.exports=C});var Me={};qe(Me,{getPickedVariant:()=>ve,getPickedVariantName:()=>F,makeVariantsWithEqualWeights:()=>W,pickVariant:()=>J,sameLocalAndGivenSeed:()=>me,setExperiment:()=>Ee});var ge=ke(xe()),he=!1;function pe(f){he=f}function N(...f){he&&console.log("SplitTesting.js -",...f)}function R(...f){console.warn("SplitTesting.js -",...f)}function M(...f){console.error("SplitTesting.js -",...f)}function de(f,i){let c=i!==void 0?(0,ge.default)(i).quick():Math.random();return f.find(x=>{if(c<x.weight)return x;c-=x.weight})}function U(f){if(typeof f=="function")return f;let i=Array.isArray(f)?[]:{};for(var c in f){let l=f[c],x={}.toString.call(l).slice(8,-1);x==="Array"||x==="Object"?i[c]=U(l):x==="Date"?i[c]=new Date(l.getTime()):i[c]=l}return i}function Ee(f){let{name:i,seed:c,debug:l,onVariantPicked:x,resolveSeedConflict:g}=f,o=U(f.variants);if(typeof i!="string"||i.length===0)return M("Experiment name is required"),!1;if(!Array.isArray(o)||o.length===0)return M("Variants are required"),!1;if(!o.every(a=>a.name!==void 0&&a.name.length>0))return M("All variants must have a name"),!1;l===!0&&(pe(!0),N("Running split testing with these options :"),N({experimentName:i,variants:f.variants,seed:c,debug:l}));let t=F(i);if(t===null)N("No variant picked in localStorage, picking it now"),J({experimentName:i,variants:o,seed:c,callback:x});else{if(N(`Variant already picked, named ${t}`),ve({experimentName:i,variants:o})===void 0)return M("Variant name in localStorage don't exist in the variants given in options"),!1;g!==!1&&c!==void 0&&!me({experimentName:i,seed:c})&&(R("Conflict between the old seed and the current seed, updating the variant for the current seed"),J({experimentName:i,variants:o,seed:c,callback:x}))}return!0}function F(f){return localStorage.getItem(`${f}-variant-name`)}function ve({experimentName:f,variants:i}){let c=F(f);return c===null?void 0:i.find(x=>x.name===c)}function J({experimentName:f,variants:i,seed:c,callback:l}){let x=i.some(t=>t.weight!==void 0),g=i.every(t=>t.weight!==void 0),o=i.reduce((t,a)=>{var n;return t+((n=a.weight)!=null?n:0)},0);x&&!g?(R("SplitTesting.js: Some variants have a weight but not all of them, reset of all weight"),i=W(i)):g&&o!==1?(R("SplitTesting.js: The total of all weight is not equal to 1, reset of all weight"),i=W(i)):x||(i=W(i));let e=de(i,c);localStorage.setItem(`${f}-variant-name`,e.name),N(`New picked variant: ${e.name} ${c!==void 0?"(with seed)":""}`),c!==void 0?localStorage.setItem(`${f}-seed`,c):localStorage.removeItem(`${f}-seed`),l!==void 0&&l(e)}function me({experimentName:f,seed:i}){return localStorage.getItem(`${f}-seed`)===i}function W(f){N("Making all weight equal so the variants have the same probability of being picked");let i=1/f.length;return f.map(l=>(l.weight=i,l))}return Me;})();
//# sourceMappingURL=bundle.js.map
